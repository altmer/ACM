import java.util.*;
import java.math.*;
import java.util.Map.Entry;
import static java.lang.Math.*;

class LampsGrid {
    int mostLit(String[] initial, int K){
        Map<Long,Integer> m = new HashMap<Long,Integer>();
        for (String s : initial){
            Long key= new Long(0);
            long step=1;
            for (int i=0; i<s.length(); ++i){
                if(s.charAt(i)=='0'){
                    key+=step;
                }
                step<<=1;
            }

            if(m.get(key)==null){
                m.put(key,new Integer(1));
            }
            else{
                m.put(key, new Integer(m.get(key)+1));
            }
        }
        Iterator it = m.entrySet().iterator();
        int maxx=0;
        while(it.hasNext()){
            Entry<Long,Integer> e = (Entry<Long, Integer>) it.next();
            long key = e.getKey();
            int num=0;
            int cand=e.getValue();
            while(key>0){
                if((key&1)>0)
                    num++;
                key>>=1;
            }
            if(num<=K && (K-num)%2==0){
                maxx=max(maxx, cand);
            }
        }
        return maxx;
    }
}

public class Main {
    public static void main(String[] args) {
        String[] ar = 
{"00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
        "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
        "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
        "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000",
 "00000000000000000000000000000000000000000000000000"};
        System.out.println(new LampsGrid().mostLit(ar, 1000));
    }
}
